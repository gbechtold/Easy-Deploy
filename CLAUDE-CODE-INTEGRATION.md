# Claude Code + Easy Deploy Integration Guide

This guide shows you how to use Claude Code and Easy Deploy together for a seamless development and deployment workflow.

## Recommended Setup: Split Terminal Workflow

The best way to use both tools is with a split terminal setup:

```
┌─────────────────────────────────────────────────────────────┐
│ Terminal 1: Claude Code (Development)                       │
│ - Generate code                                             │
│ - Modify applications                                       │
│ - Run commands                                              │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ Terminal 2: Easy Deploy (Deployment & Monitoring)           │
│ - Watch for changes                                         │
│ - Auto-deploy updates                                       │
│ - Monitor status                                            │
└─────────────────────────────────────────────────────────────┘
```

## Integration Patterns

### Pattern 1: Dashboard + Claude Code (Recommended)

**Terminal 1: Claude Code**
```bash
claude-code
```

**Terminal 2: Easy Deploy Dashboard**
```bash
cd your-project
easy-deploy
```

The dashboard will auto-detect artifacts created by Claude and offer to deploy them.

### Pattern 2: Watch Mode + Claude Code (Coming in Phase 2)

**Terminal 1: Claude Code**
```bash
claude-code
```

**Terminal 2: Easy Deploy Watch Mode**
```bash
easy-deploy watch
# Automatically monitors ./artifacts for changes
# Auto-deploys when new artifacts are detected
```

### Pattern 3: Direct CLI Commands from Claude

Ask Claude Code to run Easy Deploy commands:

```
You: "Create a React todo app and deploy it"

Claude:
1. *generates app in ./artifacts/todo-app*
2. Runs: easy-deploy add-artifact --source ./artifacts/todo-app
3. Runs: easy-deploy deploy
```

## Example Workflows

### Workflow 1: Generate → Deploy → Test → Iterate

```
┌──────────────────────────────────────────────────────────┐
│ 1. Generate with Claude Code                             │
└──────────────────────────────────────────────────────────┘
Terminal 1 (Claude Code):
$ You: "Create a blog app with React and dark mode"
$ Claude: *generates code in ./artifacts/blog-app*

┌──────────────────────────────────────────────────────────┐
│ 2. Deploy with Easy Deploy                               │
└──────────────────────────────────────────────────────────┘
Terminal 2 (Easy Deploy):
$ easy-deploy
# Dashboard detects new artifact
# Press 'D' to deploy

┌──────────────────────────────────────────────────────────┐
│ 3. Test in Browser                                       │
└──────────────────────────────────────────────────────────┘
# Easy Deploy shows: http://localhost:3000
# Open in browser and test

┌──────────────────────────────────────────────────────────┐
│ 4. Iterate                                               │
└──────────────────────────────────────────────────────────┘
Terminal 1 (Claude Code):
$ You: "Add a user authentication system"
$ Claude: *updates code*

Terminal 2 (Easy Deploy):
# Dashboard detects changes
# Press 'R' to redeploy
```

### Workflow 2: Continuous Deployment

```bash
# Terminal 1: Start Claude Code
claude-code

# Terminal 2: Start Easy Deploy in watch mode (Phase 2)
easy-deploy watch --auto-deploy

# Now every time Claude creates/updates an artifact:
# → Easy Deploy automatically detects it
# → Builds Docker image
# → Deploys to local server
# → Shows URL
```

### Workflow 3: Using Claude Code Slash Commands

Create a custom slash command in Claude Code:

**File: `.claude/commands/deploy.md`**
```markdown
Deploy the current artifact using Easy Deploy:

1. Check if artifacts directory exists
2. Run: easy-deploy add-artifact --source ./artifacts
3. Run: easy-deploy deploy
4. Show the deployment URL
```

Then in Claude Code:
```
You: /deploy
Claude: *runs the deployment commands automatically*
```

## Directory Structure

Recommended project structure when using both tools:

```
my-project/
├── .claude/                    # Claude Code settings
│   └── commands/
│       └── deploy.md          # Custom deploy command
├── artifacts/                  # Claude-generated apps go here
│   ├── app1/
│   ├── app2/
│   └── app3/
├── easy-deploy.config.js      # Easy Deploy configuration
├── .env                       # Environment variables
├── data/                      # SQLite database
└── docker-compose.yml         # Generated by Easy Deploy
```

## Tips & Best Practices

### 1. Use Descriptive Artifact Names

When asking Claude to generate code:
```
✅ Good: "Create a todo app in ./artifacts/todo-app"
❌ Bad: "Create an app"
```

### 2. Let Easy Deploy Handle Docker

Don't ask Claude to create Dockerfiles - Easy Deploy generates optimized ones automatically based on artifact type.

### 3. Use the Dashboard for Monitoring

Keep the Easy Deploy dashboard open in a terminal to monitor:
- Deployment status
- Container health
- Resource usage
- Activity logs

### 4. Leverage Auto-Detection

Easy Deploy automatically detects:
- React apps
- HTML/CSS/JS sites
- Node.js applications
- Markdown sites

You don't need to specify the type - just deploy!

### 5. Quick Iteration Cycle

For rapid development:
1. Ask Claude to make changes
2. Press 'R' in Easy Deploy dashboard to redeploy
3. Refresh browser to see changes
4. Repeat

## Common Commands

### In Claude Code

```
You: "Create a [type] app called [name] in ./artifacts/[name]"
You: "Update [feature] in the [app-name] app"
You: "Add [feature] to the app"
You: "Fix the [bug] in [file]"
```

### In Easy Deploy

```bash
easy-deploy                    # Launch dashboard
easy-deploy init               # Setup new project
easy-deploy deploy             # Deploy current config
easy-deploy status             # Check deployment status
easy-deploy watch              # Watch for changes (Phase 2)
```

## Troubleshooting

### Claude creates files outside ./artifacts

Tell Claude explicitly:
```
"Create the app in ./artifacts/my-app directory"
```

### Easy Deploy doesn't detect artifact

1. Check the artifact is in `./artifacts/` directory
2. Ensure it has an `index.html` or `package.json`
3. Run `easy-deploy` and look for detection messages

### Port conflicts

If port 3000 is in use:
1. Edit `.env`: `SERVER_PORT=3001`
2. Or in `easy-deploy.config.js`: `server: { port: 3001 }`
3. Redeploy

## Advanced: Automated Pipeline

Create a complete automated pipeline:

**File: `.claude/commands/full-deploy.md`**
```markdown
Complete deployment pipeline:

1. Generate/update the application code
2. Run linting and formatting
3. Add artifact to Easy Deploy
4. Build Docker image
5. Deploy to local environment
6. Run health checks
7. Create git commit with semantic message
8. Show deployment URL
```

## What's Coming

### Phase 2 Features (In Development)

- **Watch Mode**: Automatic deployment on file changes
- **Health Monitoring**: Real-time container health checks
- **Auto-Fixer**: Automatic error detection and fixes

### Phase 3 Features (Planned)

- **Daemon Mode**: Background process for continuous deployment
- **Web Dashboard**: Browser-based monitoring interface
- **MCP Integration**: Deep Claude Code integration

## Questions?

- Check the main [README.md](README.md) for general usage
- See [CONCEPT.md](CONCEPT.md) for technical details
- Open an issue on [GitHub](https://github.com/gbechtold/Easy-Deploy/issues)

---

**Created by StarsMedia.com**
